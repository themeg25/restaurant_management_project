from django.db import models

class ContactFormSubmission(models.Model):
    name = models.CharField(max_length=100)
        email = models.EmailField()
            message = models.TextField()
                submitted_at = models.DateTimeField(auto_now_add=True)

                    def __str__(self):
                 from rest_framework import serializers
                 from .models import ContactFormSubmission
                 
                 class ContactFormSubmissionSerializer(serializers.ModelSerializer):
                     class Meta:
                             model = ContactFormSubmission
                                     fields = ['id', 'nfrom rest_framework.generics import CreateAPIView
                                     from rest_framework.response import Response
                                     from rest_framework import status
                                     from .models import ContactFormSubmission
                                     from .serializers import ContactFormSubmissionSerializer
                                     
                                     class ContactFormSubmissionAPIView(CreateAPIView):
                                         queryset = ContactFormSubmission.objects.all()
                                             serializer_class = ContactFormSubmissionSerializer
                                             
                                                 def create(self, request, *args, **kwargs):
                                                         serializer = self.get_serializer(data=request.data)
                                                                 if serializer.is_valid():
                                                                             serializer.save()
                                                                                         return Response(
                                                                                                            {"detail": "Contact form submitted successfully.", "data": serializer.data},
                                                                                                                            status=status.HTTP_201_CREATED
                                                                                                                                        )
                                                                                                                                                return Response(serializer.errors, status=status.HTTP_400_BAD_REQUEST)ame', 'email', 'message', 'submitted_at']           return f"{self.name} -- {self.email}-